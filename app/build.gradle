apply plugin: 'com.android.application'
apply plugin: 'com.google.gms.google-services'
apply plugin: 'io.fabric'


android {
    compileSdkVersion 28
    defaultConfig {
        applicationId 'com.thealer.pro'
        minSdkVersion 23
        targetSdkVersion 28
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility = '1.8'
        targetCompatibility = '1.8'
    }
    flavorDimensions "telehealer"
    productFlavors {
        doctor {
        }
        patient {
            minSdkVersion 23
            targetSdkVersion 28
            testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'
            versionCode 1
            versionName '1.0'
            applicationId 'com.thealer'
        }
    }

    sourceSets {
        doctor {
        }
        patient {
            main {
                jniLibs.srcDirs = ['libs']
            }
        }
    }

    repositories {
        maven { url 'https://jitpack.io' }
    }

    packagingOptions {
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/license.txt'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/notice.txt'
        exclude 'META-INF/ASL2.0'
        exclude 'META-INF/proguard/androidx-annotations.pro'
    }
}

dependencies {
    //implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation 'com.android.support:appcompat-v7:28.0.0'
    implementation 'com.android.support.constraint:constraint-layout:1.1.3'
    implementation 'com.android.support:design:28.0.0'
    implementation 'com.google.android.gms:play-services-location:16.0.0'

    implementation('com.crashlytics.sdk.android:crashlytics:2.9.8@aar') {
        transitive = true;
    }

    //circular image view
    implementation 'de.hdodenhof:circleimageview:2.2.0'
    //country code picker
    implementation 'com.hbb20:ccp:2.2.2'
    //phone number validator
    implementation 'io.michaelrocks:libphonenumber-android:8.9.14'
    //Glide image loaded
    implementation 'com.github.bumptech.glide:glide:4.8.0'
    annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'
    testImplementation 'junit:junit:4.12'
    androidTestImplementation 'com.android.support.test:runner:1.0.2'
    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'
    //Retrofit
    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.4.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'
    implementation 'com.squareup.retrofit2:retrofit:2.4.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:3.9.1'
    implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'
    implementation 'io.reactivex.rxjava2:rxjava:2.1.7'

    //Vitals ihealth
    patientImplementation files('libs/d2xx.jar')
    patientImplementation files('libs/pl2303driver.jar')
    patientImplementation files('libs/smartlinklib3.6.4_product.jar')
    patientImplementation files('libs/iHealthLibrary_2.4.4.jar')

    //view model and live data
    implementation 'android.arch.lifecycle:extensions:1.1.1'
    implementation 'com.google.android.gms:play-services-maps:16.0.0'

    //pdf viewer
    implementation 'com.github.barteksc:android-pdf-viewer:2.8.2'

    //jwt library
    implementation 'com.auth0.android:jwtdecode:1.2.0'

    //QR Code reader
    implementation 'com.dlazaro66.qrcodereaderview:qrcodereaderview:2.0.3'

    //mp char
    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0-alpha'

    //firebase
    implementation 'com.google.firebase:firebase-core:16.0.6'
    implementation 'com.google.firebase:firebase-messaging:17.3.4'

    //pubnub
    implementation group: 'com.pubnub', name: 'pubnub', version: '4.2.0'


    //ExoPlayer
    implementation 'com.google.android.exoplayer:exoplayer:2.9.3'

    //Open Tok
    implementation 'com.opentok.android:opentok-android-sdk:2.15.2'

    //Ripple effect
    implementation 'com.skyfishjy.ripplebackground:library:1.0.1'
}